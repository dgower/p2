

<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<title>Magazine | I can tell you, but then you'd understand</title>

<meta name="description" content="On anonymous functions, code readability and design erosion.">

<link rel="shortcut icon" type="image/png" href="/p2/favicon.png" />
<link href="/p2/stylesheets/screen.css" rel="stylesheet" type="text/css" media="all"/>
<link rel="alternate" type="application/rss+xml" title="P2 Magazine" href="http://thoughtworks.github.io/p2/atom.xml"/>
<script src="http://modernizr.com/downloads/modernizr-2.5.3.js"></script>
<script src="/p2/assets/js/keymaster.min.js"></script>
</head>

<body class="wrapper">
<nav class="paginate">
  
    

    
      
        <a id="prev" href="/p2/issue05/index" class="prev">&#9664;</a>
        <script type="text/javascript">
          key('left', function() {
            window.open($("#prev")[0].href, '_self', false);
          });
        </script>
      

      
        
      

      

    
   
    
  
    
      <a id="next" href="/p2/issue05/cooking-with-clojure" class="next">&#9654;</a>
      <script type="text/javascript">
        key('right', function(){
          window.open($("#next")[0].href, '_self', false);
        });
      </script>
      
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
</nav>

<div class="container">
    <section class="page">
    <nav class="issues">
    <ul class="clearfix">
        <li class="active"><a href="/p2/issue05/index">issue05, October 2013</a></li>
        <li class="pull-right">Page
        
            
            	1 / 8
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </ul>
</nav>

    <article>
    <header>
        <h1>I can tell you, but then you'd understand</h1>
        <h3>On anonymous functions, code readability and design erosion.</h3>
        <p class="byline">
        Words and Music by Ryan Boucher
        </p>
    </header>
    <div class="article-body"><p>Let me start with this statement: <em>the use of anonymous functions make your code harder to read and, can erode your design</em>. An anonymous function is a function that&rsquo;s never bound to an identifier. I prefer to define it as &lsquo;<em>a function that has no name</em>&rsquo; as Javascript can have anonymous functions that can still have a &lsquo;<em>name</em>&rsquo;:</p>

<div class='normal-gist'><code id="gist-6723883" data-file="1.js"></code></div>


<p>The above function is anonymous, but has a name <span class='inline-code'>my_awesome_function</span> and that name can be changed through assignment.</p>

<div class='normal-gist'><code id="gist-6723883" data-file="2.js"></code></div>


<p>The important thing here, is whether the function has an identifiable name when <strong>I’m</strong> reading the code. Anonymous functions have no name during debug. Here is an example of some code that has four anonymous functions, but we’re going to focus on the outermost function, I’d tell you what it’s called but… you know.  You may remember this code from the <a href="/p2/issue02/improve-this">Issue 02’s Improve This</a>.</p>

<div class='normal-gist'><code id="gist-6723883" data-file="3.js"></code></div>


<p>The issue I have here is that it’s not obvious what this code does. I <strong>can</strong> work it out but I’d rather not <strong>have</strong> to. So my question is, could we have named it? This would be a challenge because this function is doing streaming, validation and persistence. Trying to name something that does more than one thing is hard. Naming functions is already hard without this added complexity.</p>

<p>A well named function should do what it says. An anonymous function makes no such promise. When new behaviour comes it can be easily slipped into an anonymous function and everything still &lsquo;makes sense&rsquo;. I prefer to see it as: <em>anonymous functions make it easier to avoid the pain of naming a function</em>. &ldquo;I can just use an anonymous function here&rdquo;. The pain gets <strong>deferred</strong> to the person who later has to read and understand the function.</p>

<p>In the Improve This article, the function ended up being split into two parts. The first part performs steaming and validation. It also accepts a callback which it invokes on valid entries.</p>

<div class='normal-gist'><code id="gist-6723883" data-file="4.js"></code></div>


<p>The first function is now better named and the callback, with different concerns, is now named and self-contained.</p>

<p>Now, not all anonymous functions are bad. An example of when having a named function doesn’t add much is when you’re passing a predicate to a well named function or you want to make good use of your closure.</p>

<div class='normal-gist'><code id="gist-6723883" data-file="5.js"></code></div>


<p>But even then, I still find better ways to express the same thing.</p>

<div class='normal-gist'><code id="gist-6723883" data-file="6.js"></code></div>


<p>The next time you’re writing an anonymous function consider if it needs a name. Or, if you are extending an existing function, consider if it still does what it says on the tin. Sometimes you might find that what you are trying to do, already exists, with a good name:</p>

<div class='normal-gist'><code id="gist-6723883" data-file="7.js"></code></div>


<p>Is also:</p>

<div class='normal-gist'><code id="gist-6723883" data-file="8.js"></code></div>

</div>
    <aside class="left-column clearfix">
   <div class="author">
      
      <div>
         <a href="#">
            <img class="author-avatar" src="/p2/images/ryan-avatar.jpg"/>
         </a>
         <div>Ryan Boucher</div>
         
         <a href="http://twitter.com/distributedlife">@distributedlife</a>
         
      </div>
      
   </div>
</aside>

    <footer>
    </footer>
</article>

</section>

</div>
<div id="bottom-pages">
    <nav class="paginate">
  
    

    
      
        <a id="prev" href="/p2/issue05/index" class="prev">&#9664;</a>
        <script type="text/javascript">
          key('left', function() {
            window.open($("#prev")[0].href, '_self', false);
          });
        </script>
      

      
        
      

      

    
   
    
  
    
      <a id="next" href="/p2/issue05/cooking-with-clojure" class="next">&#9654;</a>
      <script type="text/javascript">
        key('right', function(){
          window.open($("#next")[0].href, '_self', false);
        });
      </script>
      
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
    

    
   
    
  
</nav>

</div>
</body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript">
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='assets/js/jquery-1.8.2.min.js' type='text/javascript'%3E%3C/script%3E"));
}
</script>
<script type="text/javascript" src="/p2/javascripts/gist-embed.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41328116-1', 'thoughtworks.github.io');
ga('send', 'pageview');
</script>
<script>
$(function() {
    setTimeout(function() {
        $("<span>&nbsp;</span>").appendTo(".cover");
    }, 100);
});
</script>
</html>
